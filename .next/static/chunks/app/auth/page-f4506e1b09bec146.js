(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{2924:function(e,t,s){Promise.resolve().then(s.bind(s,8856))},8856:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(1844),n=s(5784),a=s(3299),i=s(9332);let l=async(e,t)=>{let s=await fetch("/api/restricted",{method:"POST",body:JSON.stringify({email:e,password:t}),headers:{"Content-type":"application/json"}}),r=await s.json();if(!s.ok)throw Error(r.message);return r};function o(){let[e,t]=(0,n.useState)(!0),[s,o]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[d,p]=(0,n.useState)(""),f=(0,i.useRouter)(),{status:m}=(0,a.useSession)();async function h(t){if(t.preventDefault(),p(""),e){let e=await (0,a.signIn)("credentials",{redirect:!1,email:s,password:c});(null==e?void 0:e.error)||f.replace("/"),console.log(e)}else try{let e=await l(s,c);console.log(e)}catch(e){"User already exists"===e.message&&p("userExists"),console.log(e.message)}}return(0,r.jsx)("section",{className:"section",children:(0,r.jsx)("div",{className:"container is-flex is-justify-content-center",children:"authenticated"===m?(0,r.jsx)("p",{children:"You Are already Logged In"}):(0,r.jsxs)("form",{onSubmit:h,style:{maxWidth:"400px"},className:"is-flex-grow-1",children:[(0,r.jsx)("h1",{className:"title has-text-centered",children:e?"LOGIN":"Sign Up"}),(0,r.jsx)("div",{className:"field",children:(0,r.jsxs)("label",{className:"label",htmlFor:"email",children:["E-Mail",(0,r.jsx)("div",{className:"control",children:(0,r.jsx)("input",{value:s,onChange:e=>{o(e.target.value)},required:!0,id:"email",className:"input",type:"text",placeholder:"enter your email"})})]})}),(0,r.jsx)("div",{className:"field",children:(0,r.jsxs)("label",{className:"label",htmlFor:"password",children:["Name",(0,r.jsx)("div",{className:"control",children:(0,r.jsx)("input",{value:c,onChange:e=>{u(e.target.value)},required:!0,id:"password",className:"input",type:"password",placeholder:"enter your password"})})]})}),(0,r.jsx)("div",{className:"buttons is-centered m-0",children:(0,r.jsx)("button",{className:"button",type:"submit",children:e?"Login":"Create Account"})}),(0,r.jsx)("div",{className:"buttons is-centered",children:(0,r.jsx)("button",{onClick:()=>{t(!e)},type:"button",style:{backgroundColor:"transparent",border:"0",cursor:"pointer"},children:"Create New Account"})}),"userExists"===d&&(0,r.jsxs)("div",{className:"notification",children:[(0,r.jsx)("button",{onClick:()=>{p("")},type:"button",className:"delete","aria-label":"notification"}),"User Already Exists"]})]})})})}},9803:function(e,t,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=s(5784),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var r,a={},c=null,u=null;for(r in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!o.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:u,props:a,_owner:l.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1844:function(e,t,s){"use strict";e.exports=s(9803)},9332:function(e,t,s){e.exports=s(19)}},function(e){e.O(0,[299,17,744],function(){return e(e.s=2924)}),_N_E=e.O()}]);